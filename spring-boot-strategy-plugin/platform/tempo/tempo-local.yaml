server:
    http_listen_port: 3200

distributor:
    receivers:
        otlp:
            protocols:
                grpc:
                http:
        jaeger:
            protocols:
                thrift_http:
                grpc:
                thrift_binary:
                thrift_compact:
        zipkin:

ingester:
    trace_idle_period: 10s
    max_block_bytes: 1_000_000
    max_block_duration: 5m

compactor:
    compaction:
        compaction_window: 1h
        max_block_bytes: 100_000_000
        block_retention: 1h
        compacted_block_retention: 10m

metrics_generator:
    registry:
        collection_interval: 5s
        external_labels:
            source: tempo
    storage:
        path: /tmp/tempo/generator/wal
        remote_write:
            - url: http://prometheus:9090/api/v1/write
              send_exemplars: true

storage:
    trace:
        backend: local
        block:
            bloom_filter_false_positive: .05
        wal:
            path: /tmp/tempo/wal
        local:
            path: /tmp/tempo/blocks
        pool:
            max_workers: 100
            queue_depth: 10000

overrides:
    metrics_generator_processors: [service-graphs, span-metrics]

usage_report:
    reporting_enabled: false